name: Release

on:
    push:
        branches:
            - main
            - beta

permissions:
    contents: write
    issues: write
    pull-requests: write

jobs:
    release:
        runs-on: ubuntu-latest
        steps:            
            - uses: action/checkout@v4
            - uses: action/setup-node@v4            
              with:
                node-version: 18
            - run: npm ci
            - run: npm audit signatures
            - name: Release
              env:
                GITHUB_TOKEN: ${{secrets.GITHUB_TOKEN}}
                NPM_TOKEN: ${{ secrets.NPM_TOKEN }} 
              run: npx semantic-release  


